<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #f0f0f0;
        }
        .card-title {
            color: black; /* Set title color to black */
            font-weight: bold; /* Make title bold */
        }
        .form-check-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #808080; /* Light grey for deselected datasets */
            cursor: pointer;
            font-size: 14px;
        }

        .instructions {
            text-align: center;
            margin-top: 11px;
            font-style: normal;
            font-size: 14px; /* Adjust font size to match labels */
        }
        .chart-container {
            margin-bottom: 50px; /* Increase spacing below the chart */
        }
        .dataset-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 3px; /* Adjust gap between columns and rows */
        }
        /* Custom checkbox styles */
        .form-check-input:checked {
            background-color: rgb(50, 50, 50);
            border-color: rgb(50, 50, 50);
        }
        .form-check-input:focus {
            border-color: rgb(50, 50, 50);
            box-shadow: none;
        }
    </style>

    <title>Comparing Chipotle Alternatives</title>
</head>
<body style="background-color: #f0f0f0;"> <!-- Change the color here -->
<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title text-center">Comparing Chipotle Alternatives</h5>
                    <div class="instructions">
                        the ultimate tool to determine where to go from 12 to 1 pm
                    </div>
                    <hr>
                    <div class="chart-container" style="position: relative; height: 400px; width: 100%;">
                        <canvas id="myChart"></canvas>
                    </div>
                    <div class="mt-3 dataset-container">
                        <!-- Checkboxes will be dynamically added here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const ctx = document.getElementById('myChart').getContext('2d');

    var chartData = {
        labels: ["Price", "Taste", "Speed", "Variety", "Ambiance"],
        datasets: [
            {
                label: "Chipotle",
                data: [8, 6, 6, 3, 2],
                backgroundColor: 'rgba(0, 123, 255, 0.2)',
                pointBackgroundColor: 'rgba(0, 123, 255, 1)',
                borderColor: 'rgba(0, 123, 255, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Cava",
                data: [7, 7, 4, 9, 4],
                backgroundColor: 'rgba(72, 198, 56, 0.2)',
                pointBackgroundColor: 'rgba(72, 198, 56, 1)',
                borderColor: 'rgba(72, 198, 56, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
                        {
                label: "Naya",
                data: [8, 8, 7, 8, 7],
                backgroundColor: 'rgba(36, 242, 94, 0.2)',
                pointBackgroundColor: 'rgba(36, 242, 94, 1)',
                borderColor: 'rgba(36, 242, 94, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Zooba",
                data: [7, 8, 5, 6, 8],
                backgroundColor: 'rgba(183, 17, 235, 0.2)',
                pointBackgroundColor: 'rgba(183, 17, 235, 1)',
                borderColor: 'rgba(183, 17, 235, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Regina's Grocery",
                data: [5, 8, 6, 9, 8],
                backgroundColor: 'rgba(74, 60, 11, 0.2',
                pointBackgroundColor: 'rgba(74, 60, 11, 1)',
                borderColor: 'rgba(74, 60, 11, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Go Believe (LES)",
                data: [9, 9, 7, 5, 5],
                backgroundColor: 'rgba(216, 128, 90, 0.2)',
                pointBackgroundColor: 'rgba(216, 128, 90, 1)',
                borderColor: 'rgba(216, 128, 90, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Madman Bakery",
                data: [6, 8, 5, 7, 8],
                backgroundColor: 'rgba(184, 39, 179, 0.2)',
                pointBackgroundColor: 'rgba(184, 39, 179, 1)',
                borderColor: 'rgba(184, 39, 179, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Brooklyn Bagel",
                data: [7, 8, 9, 9, 7],
                backgroundColor: 'rgba(141, 39, 96, 0.2)',
                pointBackgroundColor: 'rgba(141, 39, 96, 1)',
                borderColor: 'rgba(141, 39, 96, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Potbelly",
                data: [8, 6, 7, 7, 3],
                backgroundColor: 'rgba(67, 230, 231, 0.2)',
                pointBackgroundColor: 'rgba(67, 230, 231, 1)',
                borderColor: 'rgba(67, 230, 231, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Honeybrains",
                data: [6, 6, 5, 7, 7],
                backgroundColor: 'rgba(47, 112, 159, 0.2)',
                pointBackgroundColor: 'rgba(47, 112, 159, 1)',
                borderColor: 'rgba(47, 112, 159, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Taiwan Bear House",
                data: [7, 8, 6, 7, 7],
                backgroundColor: 'rgba(93, 138, 3, 0.2)',
                pointBackgroundColor: 'rgba(93, 138, 3, 1)',
                borderColor: 'rgba(93, 138, 3, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "King Dumplings",
                data: [9, 7, 8, 7, 6],
                backgroundColor: 'rgba(194, 211, 76, 0.2)',
                pointBackgroundColor: 'rgba(194, 211, 76, 1)',
                borderColor: 'rgba(194, 211, 76, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Dig",
                data: [7, 6, 7, 6, 5],
                backgroundColor: 'rgba(92, 83, 203, 0.2)',
                pointBackgroundColor: 'rgba(92, 83, 203, 1)',
                borderColor: 'rgba(92, 83, 203, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Taim",
                data: [7, 7, 7, 6, 5],
                backgroundColor: 'rgba(181, 6, 52, 0.2)',
                pointBackgroundColor: 'rgba(181, 6, 52, 1)',
                borderColor: 'rgba(181, 6, 52, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Lenwich",
                data: [6, 7, 5, 6, 3],
                backgroundColor: 'rgba(245, 224, 143, 0.2)',
                pointBackgroundColor: 'rgba(245, 224, 143, 1)',
                borderColor: 'rgba(245, 224, 143, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Chopt",
                data: [5, 7, 5, 7, 6],
                backgroundColor: 'rgba(17, 129, 145, 0.2)',
                pointBackgroundColor: 'rgba(17, 129, 145, 1)',
                borderColor: 'rgba(17, 129, 145, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Panera",
                data: [7, 6, 4, 7, 8],
                backgroundColor: 'rgba(219, 138, 10, 0.2)',
                pointBackgroundColor: 'rgba(219, 138, 10, 1)',
                borderColor: 'rgba(219, 138, 10, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Pret A Manger",
                data: [5, 6, 9, 5, 7],
                backgroundColor: 'rgba(171, 163, 75, 0.2)',
                pointBackgroundColor: 'rgba(171, 163, 75, 1)',
                borderColor: 'rgba(171, 163, 75, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Au Bon Pain",
                data: [5, 6, 7, 5, 8],
                backgroundColor: 'rgba(238, 142, 209, 0.2)',
                pointBackgroundColor: 'rgba(238, 142, 209, 1)',
                borderColor: 'rgba(238, 142, 209, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Sweetgreen",
                data: [5, 6, 5, 7, 5],
                backgroundColor: 'rgba(245, 245, 39, 0.2)',
                pointBackgroundColor: 'rgba(245, 245, 39, 1)',
                borderColor: 'rgba(245, 245, 39, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Dos Toros",
                data: [7, 8, 6, 6, 5],
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                pointBackgroundColor: 'rgba(255, 99, 132, 1)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Subway",
                data: [9, 4, 8, 7, 3],
                backgroundColor: 'rgba(238, 127, 22, 0.2)',
                pointBackgroundColor: 'rgba(238, 127, 22, 1)',
                borderColor: 'rgba(238, 127, 22, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            },
            {
                label: "Fields Good Chicken",
                data: [3, 7, 6, 6, 5],
                backgroundColor: 'rgba(193, 83, 151, 0.2)',
                pointBackgroundColor: 'rgba(193, 83, 151, 1)',
                borderColor: 'rgba(193, 83, 151, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true,
            },
            {
                label: "Pokeworks",
                data: [5, 8, 6, 9, 5],
                backgroundColor: 'rgba(27, 53, 103, 0.2)',
                pointBackgroundColor: 'rgba(27, 53, 103, 1)',
                borderColor: 'rgba(27, 53, 103, 1)',
                borderWidth: 1,
                pointRadius: 3,
                hidden: true
            }
        ],
    };

    var chartOptions = {
        scales: {
            r: {
                min: 0, // Set the minimum value of the scale
                max: 10, // Set the maximum value of the scale
                ticks: {
                    beginAtZero: true,
                    stepSize: 1 // Set the step size for ticks to 1
                }
            }
        },
        responsive: true,
        maintainAspectRatio: false,
        elements: {
            line: {
                borderWidth: 3
            }
        },
        plugins: {
            legend: {
                display: false,
                labels: {
                    boxWidth: 8, // Width of the colored boxes in legend
                    boxHeight: 8, // Shape of colored boxes ('rect' for square)
                },
            }
        }
    };

    var myChart = new Chart(ctx, {
        type: 'radar',
        data: chartData,
        options: chartOptions
    });

    // Generate checkboxes dynamically
    var checkboxesContainer = document.querySelector('.dataset-container');
    chartData.datasets.forEach((dataset, index) => {
        if (dataset.label !== 'Minimum' && dataset.label !== 'Maximum') {
            var checkboxId = `datasetCheckbox${index}`;
            checkboxesContainer.innerHTML += `
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="${index}" id="${checkboxId}" onclick="toggleDataset(${index})">
                    <label class="form-check-label" for="${checkboxId}">
                        ${dataset.label}
                    </label>
                </div>
            `;
        }
    });

    // Function to toggle dataset visibility and update legend color
    function toggleDataset(index) {
        var dataset = myChart.data.datasets[index];
        dataset.hidden = !dataset.hidden;
        var checkbox = document.getElementById(`datasetCheckbox${index}`);
        checkbox.checked = !dataset.hidden;

        var legendItem = myChart.legend.legendItems[index];
        var labelElement = checkbox.parentElement.querySelector('label');

        if (!dataset.hidden) {
            labelElement.classList.add('active');
            labelElement.style.color = dataset.borderColor;
            legendItem.text = dataset.label;
        } else {
            labelElement.classList.remove('active');
            labelElement.style.color = '#808080';
            legendItem.text = `<span style="color: #808080">${dataset.label}</span>`;
        }

        myChart.update();
    }
</script>
</body>
</html>
